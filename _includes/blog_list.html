{% assign posts = site.pages | where: "layout", "blog-post-layout" | where: "lang", page.lang | sort: "date" | reverse %}

<div class="blog-posts">
  {% for post in posts %}
  <article class="blog-post">
    <div class="blog-post-content">
      <h2 class="blog-post-title"><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
      <div class="blog-post-meta">
        <span>
          {% if page.lang == "zh-CN" %}
          发布日期：{{ post.date | date: "%Y-%m-%d" }}
          {% else %}
          Published: {{ post.date | date: "%B %-d, %Y" }}
          {% endif %}
        </span>
        {% if post.reading_time %}
        <span>
          {% if page.lang == "zh-CN" %}
          阅读时长：{{ post.reading_time }}
          {% else %}
          Reading Time: {{ post.reading_time }}
          {% endif %}
        </span>
        {% endif %}
      </div>
      {% if post.excerpt %}
      <p class="blog-post-excerpt">{{ post.excerpt }}</p>
      {% endif %}
      {% if post.tags %}
      <div class="blog-post-tags">
        {% for tag in post.tags %}
        <a href="#" class="blog-tag">{{ tag }}</a>
        {% endfor %}
      </div>
      {% endif %}
      <a href="{{ post.url | relative_url }}" class="read-more">
        {% if page.lang == "zh-CN" %}阅读全文{% else %}Read More{% endif %}
      </a>
    </div>
    {% if post.cover_image %}
    <div class="blog-post-image">
      <img src="{{ post.cover_image | relative_url }}" alt="{{ post.title }}">
    </div>
    {% endif %}
  </article>
  {% endfor %}
</div>
